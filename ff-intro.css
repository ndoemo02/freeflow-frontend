/* ===== FreeFlow • Intro + Splash + Voice Button ===== */
:root{
  --ff-accent:#ff7a00; --ff-accent-2:#00d1ff; --ff-glass:rgba(12,16,22,.55);
  --ff-ring:rgba(255,122,0,.35);
  --ff-size-lg:clamp(140px,26vw,260px); /* startowy rozmiar logo */
  --ff-size-btn:68px;                   /* docelowy guzik */
  --ff-ease:cubic-bezier(.22,.9,.27,1);

  /* Timingi animacji */
  --t-drop:1100ms;     /* spadanie logo */
  --t-squash:180ms;    /* ugięcie przy lądowaniu */
  --t-ripple:900ms;    /* fale */
  --t-splash:680ms;    /* rozprysk kropelek */
  --impact-delay:1100ms; /* kiedy “uderzamy” (po dropie) */
}

.ff-hero{position:relative; width:100%; min-height:clamp(60vh,72vh,88vh);
  overflow:hidden; display:grid; place-items:center; isolation:isolate;}
.ff-hero__bg{position:absolute; inset:0;
  background:
    radial-gradient(1000px 1000px at 60% 30%, rgba(255,122,0,.07) 0 45%, transparent 55%),
    radial-gradient(900px 900px at 40% 70%, rgba(0,209,255,.05) 0 50%, transparent 60%),
    #0e1116 url("./Background.png") center/cover no-repeat;  /* ← tło (root) */
  filter:saturate(1) brightness(.95); transform:scale(1.03);}
.ff-hero__logo{width:var(--ff-size-lg); aspect-ratio:1/1.05;
  background:url("./Freeflow-logo.png") center/contain no-repeat; /* ← logo (root) */
  filter:drop-shadow(0 20px 40px rgba(0,0,0,.45))
         drop-shadow(0 0 22px rgba(255,122,0,.25))
         drop-shadow(0 0 18px rgba(0,209,255,.18));
  animation:
    ff-drop var(--t-drop) var(--ff-ease) forwards,
    ff-squash var(--t-squash) cubic-bezier(.2,.9,.3,1) var(--t-drop) both;
}

/* Fale na powierzchni “podstawki” */
.ff-ripples{position:absolute; left:50%; transform:translateX(-50%);
  width:clamp(120px,36vw,420px); aspect-ratio:1/1; pointer-events:none;
  bottom:calc(18vh + 8px); filter:drop-shadow(0 0 12px rgba(255,122,0,.2));
}
.ff-ripples span{position:absolute; inset:0; border-radius:50%;
  border:2px solid rgba(255,180,100,.25); transform:scale(.4); opacity:0;}
/* Fale odpalamy dopiero “po uderzeniu”: */
.ff-hero--impact .ff-ripples span{
  animation: ff-ripple var(--t-ripple) ease-out var(--impact-delay) forwards;
}
.ff-hero--impact .ff-ripples span:nth-child(2){animation-delay:calc(var(--impact-delay)+120ms);}
.ff-hero--impact .ff-ripples span:nth-child(3){animation-delay:calc(var(--impact-delay)+240ms);}

/* Kropelki rozprysku (12 sztuk) */
.ff-splash{position:absolute; left:50%; transform:translateX(-50%);
  bottom:calc(18vh + 12px); width:0; height:0; pointer-events:none;
  filter:drop-shadow(0 0 10px rgba(255,140,0,.25));
}
.ff-splash i{position:absolute; width:8px; height:8px; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #ffd9a1, #ff9f3a 60%, #ff7a00 100%);
  opacity:0;}
/* Odpalamy przy “impact” */
.ff-hero--impact .ff-splash i{
  animation: ff-splash var(--t-splash) cubic-bezier(.1,.7,.1,1) var(--impact-delay) forwards;
}

/* Rozkład kierunków kropelek (okrąg) */
.ff-splash i:nth-child(1 ){--dx: 0.0; --dy:-1.0;}
.ff-splash i:nth-child(2 ){--dx: 0.5; --dy:-0.9;}
.ff-splash i:nth-child(3 ){--dx: 0.9; --dy:-0.5;}
.ff-splash i:nth-child(4 ){--dx: 1.0; --dy: 0.0;}
.ff-splash i:nth-child(5 ){--dx: 0.9; --dy: 0.5;}
.ff-splash i:nth-child(6 ){--dx: 0.5; --dy: 0.9;}
.ff-splash i:nth-child(7 ){--dx: 0.0; --dy: 1.0;}
.ff-splash i:nth-child(8 ){--dx:-0.5; --dy: 0.9;}
.ff-splash i:nth-child(9 ){--dx:-0.9; --dy: 0.5;}
.ff-splash i:nth-child(10){--dx:-1.0; --dy: 0.0;}
.ff-splash i:nth-child(11){--dx:-0.9; --dy:-0.5;}
.ff-splash i:nth-child(12){--dx:-0.5; --dy:-0.9;}
.ff-splash i{ --dist: 128px; }                  /* zasięg bazowy */
.ff-splash i:nth-child(odd){ --dist: 156px; }   /* co druga dalej */

/* Przycisk voice (sticky) */
.ff-voice{position:fixed; left:50%; bottom:18px; translate:-50% 0;
  width:var(--ff-size-btn); height:var(--ff-size-btn); border-radius:999px;
  border:1px solid rgba(255,255,255,.12); background:var(--ff-glass); color:#e9eef6;
  display:grid; place-items:center; gap:8px; cursor:pointer;
  -webkit-backdrop-filter:blur(8px); backdrop-filter:blur(8px);
  box-shadow:0 10px 30px rgba(0,0,0,.35), 0 0 20px rgba(255,122,0,.15),
             inset 0 0 0 1px rgba(255,255,255,.06);
  transition:transform .2s ease, box-shadow .2s ease;}
.ff-voice:hover{transform:translate(-50%,-2px); box-shadow:
  0 12px 34px rgba(0,0,0,.45), 0 0 26px rgba(255,122,0,.22),
  inset 0 0 0 1px rgba(255,255,255,.08);}
.ff-voice:active{transform:translate(-50%,0) scale(.98);}
.ff-voice__pulse{position:absolute; inset:0; border-radius:999px; pointer-events:none;
  box-shadow:0 0 0 0 var(--ff-ring); animation:ff-pulse 1900ms ease-out infinite;}
.ff-voice__dot{width:22px; height:22px; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #ffd9a1, #ff9f3a 60%, #ff7a00 100%);
  box-shadow:0 0 10px rgba(255,122,0,.55), 0 0 20px rgba(255,122,0,.25);}
.ff-voice__label{position:absolute; bottom:calc(100% + 10px); left:50%; translate:-50% 0;
  font:600 13px/1.1 system-ui,-apple-system,Segoe UI,Roboto,sans-serif; color:#e9eef6;
  padding:6px 10px; border-radius:10px; background:rgba(12,16,22,.6);
  border:1px solid rgba(255,255,255,.08); -webkit-backdrop-filter:blur(8px);
  backdrop-filter:blur(8px); opacity:0; transform:translateY(4px);
  transition:opacity .25s ease, transform .25s ease; white-space:nowrap;}
.ff-voice:hover .ff-voice__label{opacity:1; transform:translateY(0);}

/* Przejście logo -> guzik */
.ff-hero--to-btn .ff-hero__logo{
  animation:ff-to-btn 600ms cubic-bezier(.2,.8,.25,1) forwards;
}

/* Keyframes */
@keyframes ff-drop{
  0%{transform:translateY(-60vh) scale(1);}
  85%{transform:translateY(40vh)  scale(1.02);}
  100%{transform:translateY(36vh)  scale(1);}
}
@keyframes ff-squash{
  0%{transform:translateY(36vh) scale(1,1);}
  100%{transform:translateY(36vh) scale(1.06,.94);}
}
@keyframes ff-to-btn{
  0%{opacity:1; transform:translateY(36vh) scale(1);}
  100%{opacity:0; transform:translateY(calc(100vh - 36vh - 18px)) scale(0.28);}
}
@keyframes ff-ripple{
  0%{transform:scale(.6); opacity:.0; border-color: rgba(255,180,100,.28);}
  20%{opacity:.9;}
  100%{transform:scale(1.3); opacity:0; border-color: rgba(255,180,100,0);}
}
@keyframes ff-splash{
  0%{opacity:0; transform:translate(-4px,-4px) scale(.6);}
  8%{opacity:1;}
  100%{opacity:0; transform:translate(calc(var(--dx)*var(--dist)),calc(var(--dy)*var(--dist))) scale(.88);
       filter:blur(1px);}
}
@keyframes ff-pulse{
  0%{box-shadow:0 0 0 0 var(--ff-ring);}
  70%{box-shadow:0 0 0 16px rgba(255,122,0,0);}
  100%{box-shadow:0 0 0 0 rgba(255,122,0,0);}
}

@media (max-width:520px){
  :root{--ff-size-lg:56vw; --ff-size-btn:64px;}
  .ff-voice__label{display:none;}
}

/* Szacunek dla prefers-reduced-motion */
@media (prefers-reduced-motion:reduce){
  .ff-hero__logo, .ff-ripples span, .ff-splash i, .ff-voice__pulse{animation:none !important}
}
